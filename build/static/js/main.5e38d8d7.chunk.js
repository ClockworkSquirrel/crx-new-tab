(this["webpackJsonpcrx-new-tab"]=this["webpackJsonpcrx-new-tab"]||[]).push([[0],{124:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(11),c=t.n(o),l=(t(97),t(13)),i=t(16),s=t(26),u=t.n(s),d=t(57),f=t(76),p=l.localStorage,m=JSON.parse(localStorage.getItem(p)),h=Object(i.b)({focusSearchEvent:new EventTarget,persist:Object(f.a)({wallpaperTags:["landscapes","textures","art","life","earth","cityscapes","geometric","animals","nature"],wallpaperData:{fetched:null,imageUrl:null,imagePage:null,userName:null,userImageUrl:null}},m),actions:{fetchWallpaper:function(){var e=Object(d.a)(u.a.mark((function e(){var a,t,n,r,o,c,i,s,d,f,p,m,g;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=new Date,n="".concat(t.getFullYear()).concat(String(t.getMonth()+1).padStart(2,0)).concat(String(t.getDate()).padStart(2,0)),(null===(a=h.persist.wallpaperData)||void 0===a?void 0:a.fetched)===n){e.next=24;break}return e.prev=3,(r=new URL(l.endpoints.unsplash)).searchParams.set("query",h.persist.wallpaperTags.join(",")),e.next=8,fetch(r,{method:"GET"});case 8:if(!(o=e.sent).ok){e.next=19;break}return e.next=12,o.json();case 12:p=e.sent,(m=new URL(null===p||void 0===p||null===(c=p.urls)||void 0===c?void 0:c.raw)).searchParams.set("crop","focalpoint"),m.searchParams.set("fit","crop"),m.searchParams.set("w",512),m.searchParams.set("h",1080),h.persist.wallpaperData={fetched:n,imageUrl:m.toString(),imagePage:null===p||void 0===p||null===(i=p.links)||void 0===i?void 0:i.html,userName:null===p||void 0===p||null===(s=p.user)||void 0===s?void 0:s.name,userImageUrl:null===p||void 0===p||null===(d=p.user)||void 0===d||null===(f=d.profile_image)||void 0===f?void 0:f.medium};case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(3),console.error(null!==(g=null===e.t0||void 0===e.t0?void 0:e.t0.message)&&void 0!==g?g:e.t0);case 24:return e.abrupt("return",h.persist.wallpaperData);case 25:case"end":return e.stop()}}),e,null,[[3,21]])})));return function(){return e.apply(this,arguments)}}(),focusSearch:function(){var e=Object(d.a)(u.a.mark((function e(){var a,t,n=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=!(n.length>0&&void 0!==n[0])||n[0],t=new Event(a?"focus":"blur"),h.focusSearchEvent.dispatchEvent(t);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),unfocusSearch:function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",h.actions.focusSearch(!1));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}});Object(i.a)((function(){localStorage.setItem(p,JSON.stringify(h.persist))}));var g=h,b=t(83),v=t(134),w=t(137),E=t(138),y=t(17),k=t(43),S=t(141),x=t(136),j=t(4),O=Object(v.a)((function(e){return{root:{display:"flex",flexDirection:"column",flexGrow:1,margin:e.spacing(0,0,0,2),alignItems:"flex-start",justifyContent:"center",overflow:"hidden"},infoText:{fontSize:e.typography.fontSize,margin:0,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",width:"100%"},name:{fontWeight:e.typography.fontWeightBold},source:{fontWeight:e.typography.fontWeightLight}}})),N=function(e){var a=O();return r.a.createElement("div",{className:a.root},r.a.createElement(x.a,{variant:"body1",className:Object(j.a)(a.infoText,a.name)},null===e||void 0===e?void 0:e.name),r.a.createElement(x.a,{variant:"body1",className:Object(j.a)(a.infoText,a.source)},(null===e||void 0===e?void 0:e.source)?"via ".concat(e.source):""))},D=t(142),I=function(e){return r.a.createElement(D.a,{alt:null===e||void 0===e?void 0:e.name,src:null===e||void 0===e?void 0:e.src})},U=t(139),C=t(80),W=t.n(C),M=t(81),P=t.n(M),R=W()((function(e){return{root:Object(y.a)({},e.breakpoints.down("sm"),{display:"none"})}})),F=function(e){var a=R();return r.a.createElement(U.a,Object.assign({color:"inherit",rel:"noopener noreferrer",target:"_blank",className:a.root},e),r.a.createElement(P.a,null))},L=Object(v.a)((function(e){return{root:{width:"100%",height:64,backgroundColor:"rgba(0, 0, 0, .38)",color:"rgba(255, 255, 255, .87)",backdropFilter:"blur(32px)",padding:e.spacing(1),display:"flex",flexDirection:"row",alignItems:"center",cursor:"default"}}})),z=function(e){var a=L();return r.a.createElement("div",{className:a.root},r.a.createElement(I,{name:e.name,src:e.authorImage}),r.a.createElement(N,{name:e.name,source:e.source}),r.a.createElement(F,{href:e.url}))},G=Object(v.a)((function(e){return{root:{backgroundImage:function(e){var a=e.backgroundUrl;return"url(".concat(a,")")},backgroundSize:"cover",backgroundPosition:"center",backgroundColor:e.palette.background.paper,width:"100%",height:"100%",display:"flex",flexDirection:"column",justifyContent:"flex-end"}}})),T=function(e){var a=e.imageUrl,t=e.children,o=G({backgroundUrl:a}),c=Object(n.useState)(!1),l=Object(k.a)(c,2),i=l[0],s=l[1];return Object(n.useEffect)((function(){if(a){var e=new Image;e.onload=function(){return s(!0)},e.src=a}}),[a]),r.a.createElement(S.a,{in:i},r.a.createElement("div",{className:o.root},t))},q=Object(i.c)((function(){var e=Object(n.useState)(),a=Object(k.a)(e,2),t=a[0],o=a[1];return Object(n.useEffect)((function(){g.actions.fetchWallpaper().then((function(e){return o(e)}))}),[]),r.a.createElement(T,{imageUrl:null===t||void 0===t?void 0:t.imageUrl},r.a.createElement(z,{name:null===t||void 0===t?void 0:t.userName,source:"Unsplash",url:null===t||void 0===t?void 0:t.imagePage,authorImage:null===t||void 0===t?void 0:t.userImageUrl}))})),J=t(82),A=t(140),B=t(87),_=t(22),H=Object(v.a)((function(e){return{root:{fontFamily:["'Fira Code Retina'","'Fira Code'","'Source Code Pro'","Consolas","Monaco","monospace"],fontFeatureSettings:"'liga' 1",fontVariantLigatures:"common-ligatures",alignItems:"center",background:e.palette.background.default,borderColor:("dark"===e.palette.type?_.d:_.a)(e.palette.background.default,.2),borderWidth:1,borderStyle:"solid",borderBottomWidth:2,borderRadius:e.shape.borderRadius,color:("dark"===e.palette.type?_.d:_.a)(e.palette.background.default,.4),display:"inline-flex",justifyContent:"center",padding:e.spacing(1),minWidth:36,cursor:"default"}}})),K=function(e){var a=e.children,t=e.className,n=Object(B.a)(e,["children","className"]),o=H();return r.a.createElement("span",Object.assign({className:Object(j.a)(o.root,t)},n),a)},V=t(38),X=t.n(V),Y=X()(r.a.createElement(r.a.Fragment,null,r.a.createElement("path",{fill:"#ff3d00",d:"M12.222 5.977a5.402 5.402 0 0 1 3.823 1.496l2.868-2.868A9.61 9.61 0 0 0 12.222 2a9.996 9.996 0 0 0-8.937 5.51l3.341 2.59a5.96 5.96 0 0 1 5.596-4.123z"}),r.a.createElement("path",{fill:"#ffc107",d:"M3.285 7.51a10.013 10.013 0 0 0 0 8.98l3.341-2.59a5.913 5.913 0 0 1 0-3.8l-3.34-2.59z"}),r.a.createElement("path",{fill:"#4caf50",d:"M15.608 17.068A6.033 6.033 0 0 1 6.626 13.9l-3.34 2.59A9.996 9.996 0 0 0 12.221 22a9.547 9.547 0 0 0 6.618-2.423l-3.232-2.509z"}),r.a.createElement("path",{fill:"#1976d2",d:"M21.64 10.182h-9.418v3.868h5.382a4.6 4.6 0 0 1-1.996 3.018l-.01.006l.01-.006l3.232 2.51a9.753 9.753 0 0 0 2.982-7.35c0-.687-.06-1.371-.182-2.046z"})),"GoogleColour"),Q=X()(r.a.createElement("path",{d:"M20.283 10.356h-8.327v3.451h4.792c-.446 2.193-2.313 3.453-4.792 3.453a5.27 5.27 0 0 1-5.279-5.28a5.27 5.27 0 0 1 5.279-5.279c1.259 0 2.397.447 3.29 1.178l2.6-2.599c-1.584-1.381-3.615-2.233-5.89-2.233a8.908 8.908 0 0 0-8.934 8.934a8.907 8.907 0 0 0 8.934 8.934c4.467 0 8.529-3.249 8.529-8.934c0-.528-.081-1.097-.202-1.625z"}),"Google"),Z=Object(v.a)((function(e){return{root:{display:"flex",width:"100%",padding:e.spacing(1,1,1,2),border:"1px solid ".concat(e.palette.divider),borderRadius:2*e.shape.borderRadius,alignItems:"center",cursor:"text",transition:"all ".concat(e.transitions.easing.easeOut," ").concat(e.transitions.duration.shortest,"ms"),backgroundColor:e.palette.background.default,"&:focus-within":{boxShadow:e.shadows[3],backgroundColor:e.palette.background.paper}},searchInput:{flexGrow:1,margin:e.spacing(0,1,0,2),display:"block",height:"100%"},keybindDisplay:Object(y.a)({margin:e.spacing(0,1,0,0)},e.breakpoints.only("xs"),{display:"none"})}})),$=Object(i.c)((function(){var e=Z(),a=Object(J.a)(),t=Object(n.useRef)(null);return Object(n.useEffect)((function(){g.focusSearchEvent.addEventListener("focus",(function(){t.current.focus()})),g.focusSearchEvent.addEventListener("blur",(function(){t.current.blur()}))}),[]),r.a.createElement("div",{className:e.root,onClickCapture:g.actions.focusSearch},"dark"===a.palette.type?r.a.createElement(Q,null):r.a.createElement(Y,null),r.a.createElement(A.a,{className:e.searchInput,placeholder:"Search Google or type a URL",name:"q",style:{width:"100%",display:"flex",height:"100%"},autoComplete:"off",inputRef:t,onKeyPress:function(e){if(13===e.which){e.preventDefault();try{var a=new URL(e.target.value);window.location.assign(a.toString())}catch(n){var t=new URL(l.endpoints.search);t.searchParams.set("q",e.target.value),window.location.assign(t.toString())}}},id:"search"}),l.flags.enableSlashFocusSearch?r.a.createElement(K,{className:e.keybindDisplay},"/"):"",r.a.createElement(U.a,{href:l.webstore.url,rel:"noopener noreferrer"},r.a.createElement("img",{src:"/assets/webstore.png",alt:l.webstore.name,width:24,height:24})))})),ee=function(){return r.a.createElement("div",null,r.a.createElement($,null))},ae=Object(v.a)((function(e){return{root:{display:"flex",width:"100%",height:"100%"},wallpaperItem:Object(y.a)({maxWidth:512,flexGrow:1,flexShrink:1,overflow:"hidden"},e.breakpoints.only("xs"),{display:"none"}),contentItem:Object(y.a)({flexGrow:1,flexShrink:0,minWidth:e.breakpoints.values.sm,padding:e.spacing(3)},e.breakpoints.only("xs"),{minWidth:"100%"})}})),te=function(){var e=ae();return r.a.createElement("div",{className:e.root},r.a.createElement("div",{className:e.wallpaperItem},r.a.createElement(q,null)),r.a.createElement("div",{className:e.contentItem},r.a.createElement(ee,null)))},ne=l.flags,re=Object(v.a)({root:{width:"100vw",height:"100vh",overflowX:"hidden"}}),oe=Object(i.c)((function(){var e,a=re(),t=window.matchMedia("(prefers-color-scheme: dark)").matches;return Object(n.useEffect)((function(){window.addEventListener("keydown",(function(e){if(e.target===document.body&&"/"===e.key){if(!l.flags.enableSlashFocusSearch)return;e.preventDefault(),g.actions.focusSearch()}else if(e.target!==document.body&&"Escape"===e.key){if(!l.flags.enableEscapeUnfocusSearch)return;e.preventDefault(),g.actions.unfocusSearch()}}),!1)}),[]),r.a.createElement("div",{className:a.root},r.a.createElement(w.a,{theme:(e={dark:ne.enableDarkMode&&t},Object(b.a)({palette:{type:(null===e||void 0===e?void 0:e.dark)?"dark":"light"},typography:{fontFamily:["'Lexend Deca'","Helvetica","Arial","sans-serif"]}}))},r.a.createElement(E.a,null),r.a.createElement(te,null)))}));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(oe,null)),document.querySelector("#app"))},13:function(e){e.exports=JSON.parse('{"localStorage":"dev.csqrl.crx-new-tab","endpoints":{"unsplash":"https://europe-west1-figma-imagesplash.cloudfunctions.net/unsplash-random","search":"https://google.com/search?q=%s"},"webstore":{"name":"Chrome Web Store","url":"https://chrome.google.com/webstore/category/extensions"},"flags":{"enableDarkMode":true,"enableDarkModeDev":false,"enableEscapeUnfocusSearch":true,"enableSlashFocusSearch":true}}')},92:function(e,a,t){e.exports=t(124)}},[[92,1,2]]]);
//# sourceMappingURL=main.5e38d8d7.chunk.js.map